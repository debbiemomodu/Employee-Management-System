<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Employee Dashboard</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
<link rel="apple-touch-icon" sizes="180x180" href="/asset/image/apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/asset/image/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="/asset/image/favicon-16x16.png">
<link rel="icon" href="/favicon.ico" type="image/x-icon">
</head>
<body style="margin:0; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color:#f4f6fa; height:100vh; overflow:hidden;">

<div class="container-fluid p-0" style="height:100vh;">
  <div class="row m-0" style="height:100%;">
    
    <nav id="sidebar" style="position:fixed; left:0; top:0; width:220px; height:100%; background-color:#1b263b; padding-top:20px; transition:width 0.25s ease, transform 0.25s ease; z-index:1100;">
      <div style="display:flex;align-items:center;justify-content:space-between;padding:0 8px;">
       
        <button id="collapseBtn" title="Collapse" style="border:none;background:transparent;color:#cfd8dc;font-size:18px;padding:6px 8px;cursor:pointer;">
          <i class="bi bi-chevron-left"></i>
        </button>
       
        <div style="width:26px;"></div>
      </div>

      <div class="d-flex flex-column" style="height:calc(100% - 40px);">
        <div id="sidebarLinks" style="flex-grow:1;">
          <a href="#" id="dashboardLink" class="sidebar-link" onclick="showSection('dashboard')" style="color:#cfd8dc; text-decoration:none; padding:12px 16px; display:flex; align-items:center; gap:8px; border-radius:8px; margin:4px 8px; font-weight:500; transition:all 0.15s;">
            <i class="bi bi-speedometer2" style="min-width:20px;text-align:center;"></i><span class="link-text">Dashboard</span>
          </a>
          <a href="#" id="employeesLink" class="sidebar-link" onclick="showSection('employees')" style="color:#cfd8dc; text-decoration:none; padding:12px 16px; display:flex; align-items:center; gap:8px; border-radius:8px; margin:4px 8px; font-weight:500; transition:all 0.15s;">
            <i class="bi bi-people" style="min-width:20px;text-align:center;"></i><span class="link-text">Employees</span>
          </a>
          <a href="#" id="reportsLink" class="sidebar-link" onclick="showSection('reports')" style="color:#cfd8dc; text-decoration:none; padding:12px 16px; display:flex; align-items:center; gap:8px; border-radius:8px; margin:4px 8px; font-weight:500; transition:all 0.15s;">
            <i class="bi bi-file-earmark-text" style="min-width:20px;text-align:center;"></i><span class="link-text">Reports</span>
          </a>
        </div>

        
        <a href="/index.html" class="sidebar-link mb-3" style="color:#cfd8dc; text-decoration:none; padding:12px 16px; display:flex; align-items:center; gap:8px; border-radius:8px; margin:4px 8px; font-weight:500;">
          <i class="bi bi-box-arrow-right" style="min-width:20px;text-align:center;"></i><span class="link-text">Logout</span>
        </a>
      </div>
    </nav>

    <div id="overlay" style="display:none; position:fixed; left:0; top:0; width:100%; height:100%; background:rgba(0,0,0,0.45); z-index:1050;"></div>


    <main id="mainContent" class="col-12 col-md-10 p-4" style="transition:margin-left 0.25s ease; margin-left:220px; height:100vh; overflow:auto;">
    
      <div class="d-flex justify-content-between align-items-center mb-4" style="background-color:#1b263b; padding:15px 20px; border-radius:10px; color:white; box-shadow:0 3px 12px ;">
        <div class="d-flex align-items-center">
         
          <button id="mobileToggle" style="display:none; border-radius:8px; background:transparent; border:1px solid rgba(255,255,255,0.08); color:white; margin-right:12px; padding:6px 8px; font-size:18px;">
            <i class="bi bi-list"></i>
          </button>

          <img src="/asset/image/logo.png" alt="Logo" style="height:50px; margin-right:15px;">
          <h4 class="m-0">Employee Management</h4>
        </div>
      </div>

     
      <div id="dashboard" class="section" style="display:block;">
        <div style="background:white; padding:20px; border-radius:12px; box-shadow:0 3px 12px rgba(0,0,0,0.08);">
          <h5>Dashboard</h5>
          <div class="d-flex gap-3 mb-3 col-sm-12 " style="flex-wrap:wrap;">
            <div class="p-3 border rounded" style="flex:1; text-align:center; background-color:#e3f2fd;">
              <h6>Total Users</h6>
              <h3 id="totalUsers">0</h3>
            </div>
            <div class="p-3 border rounded" style="flex:1; text-align:center; background-color:#dcedc8;">
              <h6>Total Added</h6>
              <h3 id="totalAdded">0</h3>
            </div>
            <div class="p-3 border rounded" style="flex:1; text-align:center; background-color:#ffcdd2;">
              <h6>Total Deleted</h6>
              <h3 id="totalDeleted">0</h3>
            </div>
          </div>
        </div>
      </div>

     
      <div id="employees" class="section" style="display:none;">
        <div style="background:white; padding:20px; border-radius:12px; box-shadow:0 3px 12px rgba(0,0,0,0.08);">
          <h5>Employees</h5>
          <div class="d-flex flex-wrap gap-2 mb-3">
            <input type="text" id="searchInput" class="form-control form-control-sm" placeholder="Search by name or email" style="max-width:250px;">
            <button class="btn btn-primary btn-sm" data-bs-toggle="modal" data-bs-target="#addUserModal"><i class="bi bi-plus"></i> Add User</button>
          </div>

          <div id="loadingSpinner" class="text-center my-3">
            <div class="spinner-border text-primary" role="status"><span class="visually-hidden">Loading...</span></div>
          </div>
          <div id="globalMessage" style="display:none; text-align:center; margin-bottom:15px; font-weight:bold; color:red;"></div>

          <div class="table-responsive" id="tableContainer" style="display:none;">
            <table class="table table-striped table-hover">
              <thead>
                <tr>
                  <th>Name</th>
                  <th>Email</th>
                  <th>Role</th>
                  <th>Department</th>
                  <th>Employee ID</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody id="userTable"></tbody>
            </table>
          </div>
        </div>
      </div>

      <div id="reports" class="section" style="display:none;">
        <div style="background:white; padding:20px; border-radius:12px; box-shadow:0 3px 12px rgba(0,0,0,0.08);">
          <h5>Reports</h5>
          <textarea id="reportInput" class="form-control mb-3" rows="6" placeholder="Leave a message here..."></textarea>
          <button class="btn btn-primary" id="submitReportBtn">Submit Report</button>
          <div id="reportMessage" style="margin-top:10px; font-weight:bold; color:red; display:none;"></div>
        </div>
      </div>

    </main>
  </div>
</div>


<div class="modal fade" id="addUserModal" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Add User</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <input type="text" id="addName" class="form-control mb-2" placeholder="Enter name">
        <input type="email" id="addEmail" class="form-control mb-2" placeholder="Enter email">
        <input type="password" id="addPassword" class="form-control mb-2" placeholder="Enter password">
        <input type="text" id="addDepartment" class="form-control mb-2" placeholder="Enter department">
        <select id="addRole" class="form-control mb-2">
          <option value="">Select Role</option>
          <option value="admin">Admin</option>
          <option value="staff">Staff</option>
        </select>
        <div id="addModalError" class="text-danger mb-2" style="display:none;"></div>
        <div id="addSpinner" class="text-center my-2" style="display:none;">
          <div class="spinner-border text-success" role="status"></div>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
        <button class="btn btn-success" id="addUserBtn">Add</button>
      </div>
    </div>
  </div>
</div>


<div class="modal fade" id="editUserModal" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Edit User</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <input type="text" id="editName" class="form-control mb-2" placeholder="Enter name">
        <input type="email" id="editEmail" class="form-control mb-2" placeholder="Enter email">
        <input type="text" id="editDepartment" class="form-control mb-2" placeholder="Enter department">
        <select id="editRole" class="form-control mb-2">
          <option value="">Select Role</option>
          <option value="admin">Admin</option>
          <option value="staff">Staff</option>
        </select>
        <div id="editModalError" class="text-danger mb-2" style="display:none;"></div>
        <div id="editSpinner" class="text-center my-2" style="display:none;">
          <div class="spinner-border text-success" role="status"></div>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
        <button class="btn btn-primary" id="editUserBtn">Update</button>
      </div>
    </div>
  </div>
</div>

<script src="/js/dashboard.js"></script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
